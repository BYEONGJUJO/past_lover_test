<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🔮 전생 연인 찾기 | AI 전생 분석 테스트</title>
    <meta name="description" content="사진과 생년월일로 AI가 당신의 전생 연인을 찾아드립니다! 운명적인 인연을 발견해보세요">
    <meta name="keywords" content="전생연인,운명의인연,전생테스트,AI점술,영혼메이트,전생분석,소울메이트">
    
    <!-- Open Graph -->
    <meta property="og:title" content="🔮 전생 연인 찾기 - AI가 찾아주는 운명의 인연">
    <meta property="og:description" content="사진과 생년월일로 당신의 전생 연인을 찾아드립니다!">
    <meta property="og:image" content="https://your-domain.com/pastlife-og.jpg">
    <meta property="og:url" content="https://your-domain.com">

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-SH8VWF509E"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'G-SH8VWF509E');
    </script>

    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-XXXXXXXXXXXXXXXX" crossorigin="anonymous"></script>
    
    <!-- 카카오 SDK -->
    <script src="https://t1.kakaocdn.net/kakao_js_sdk/2.7.2/kakao.min.js"></script>
    
    <style>
        * {
            margin: 0; padding: 0; box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            line-height: 1.6;
            position: relative;
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><radialGradient id="star" cx="50%" cy="50%" r="50%"><stop offset="0%" style="stop-color:white;stop-opacity:0.8"/><stop offset="100%" style="stop-color:white;stop-opacity:0"/></radialGradient></defs><circle cx="20" cy="20" r="1" fill="url(%23star)"/><circle cx="80" cy="40" r="0.5" fill="url(%23star)"/><circle cx="60" cy="80" r="0.8" fill="url(%23star)"/><circle cx="30" cy="70" r="0.6" fill="url(%23star)"/><circle cx="90" cy="20" r="0.4" fill="url(%23star)"/></svg>') repeat;
            animation: twinkle 8s ease-in-out infinite;
            pointer-events: none;
            z-index: 0;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.8; }
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 10px;
            position: relative;
            z-index: 1;
        }
        
        .header {
            text-align: center;
            background: rgba(255,255,255,0.95);
            padding: 2rem 1rem;
            border-radius: 20px;
            margin-bottom: 1rem;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
        }
        
        .header h1 {
            font-size: clamp(1.8rem, 4vw, 2.5rem);
            margin-bottom: 0.5rem;
            background: linear-gradient(135deg, #FF6B6B, #4ECDC4, #FF69B4, #FFD700);
            background-clip: text;
            -webkit-background-clip: text;
            color: transparent;
            -webkit-text-fill-color: transparent;
            background-size: 300% 300%;
            animation: gradient-shift 3s ease-in-out infinite;
        }

        @keyframes gradient-shift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        .stats {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin: 1rem 0;
            flex-wrap: wrap;
        }
        
        .stat-item {
            background: linear-gradient(45deg, #FFE0E6, #E8F5E8);
            padding: 0.5rem 1rem;
            border-radius: 25px;
            font-size: 0.9rem;
            color: #666;
            border: 1px solid rgba(255,192,203,0.3);
        }
        
        .upload-section {
            background: rgba(255,255,255,0.95);
            padding: 1.5rem;
            border-radius: 20px;
            margin-bottom: 1rem;
            text-align: center;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            border: 2px dashed #FFB6C1;
            transition: all 0.3s ease;
            cursor: pointer;
            backdrop-filter: blur(10px);
        }

        .upload-section:hover {
            border-color: #FF69B4;
            background: rgba(255, 105, 180, 0.05);
        }

        .upload-section.dragover {
            border-color: #FF69B4 !important;
            background: rgba(255, 105, 180, 0.1) !important;
            transform: scale(1.02);
        }

        .input-section {
            background: rgba(255,255,255,0.95);
            padding: 1.5rem;
            border-radius: 20px;
            margin-bottom: 1rem;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
        }

        .birthdate-input {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            margin: 1rem 0;
        }

        .date-select {
            padding: 0.8rem;
            border: 2px solid #FFB6C1;
            border-radius: 10px;
            font-size: 1rem;
            background: white;
            cursor: pointer;
            transition: border-color 0.3s ease;
        }

        .date-select:focus {
            outline: none;
            border-color: #FF69B4;
        }
        
        .file-input-wrapper {
            position: relative;
            display: inline-block;
            margin: 1rem 0;
        }
        
        .file-input {
            display: none;
        }
        
        .file-input-button {
            background: linear-gradient(45deg, #FF69B4, #FFB6C1);
            color: white;
            padding: 1rem 2rem;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: bold;
            transition: all 0.3s ease;
            display: inline-block;
            text-decoration: none;
        }
        
        .file-input-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 105, 180, 0.4);
        }
        
        .preview-container {
            margin: 1rem 0;
            max-width: 300px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .preview-image {
            width: 100%;
            border-radius: 15px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        
        .analyze-button {
            background: linear-gradient(45deg, #FF69B4, #FFB6C1);
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 50px;
            margin-top: 1rem;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: bold;
            transition: all 0.3s ease;
            width: 100%;
            max-width: 300px;
        }
        
        .analyze-button:hover {
            transform: scale(1.05);
        }

        .analyze-button:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }
        
        .loading {
            display: none;
            text-align: center;
            padding: 2rem;
            background: rgba(255,255,255,0.95);
            border-radius: 20px;
            margin-bottom: 1rem;
            backdrop-filter: blur(10px);
        }
        
        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #FF69B4;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .result-section {
            background: rgba(255,255,255,0.95);
            padding: 2rem 1rem;
            border-radius: 20px;
            margin-bottom: 1rem;
            text-align: center;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            display: none;
            backdrop-filter: blur(10px);
        }
        
        .lover-result {
            background: linear-gradient(45deg, #FFE0E6, #E8F5E8, #FFF0F5);
            padding: 2rem 1.5rem;
            border-radius: 20px;
            margin: 1rem 0;
            position: relative;
            overflow: hidden;
            border: 2px solid rgba(255,182,193,0.3);
        }

        .lover-result::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,192,203,0.3) 0%, transparent 70%);
            animation: shimmer 4s ease-in-out infinite;
        }
        
        @keyframes shimmer {
            0%, 100% { opacity: 0.3; transform: scale(1) rotate(0deg); }
            50% { opacity: 0.8; transform: scale(1.1) rotate(180deg); }
        }
        
        .lover-emoji {
            font-size: 5rem;
            margin: 1rem 0;
            position: relative;
            z-index: 1;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        .lover-name {
            font-size: clamp(1.5rem, 5vw, 2.2rem);
            margin: 1rem 0;
            color: #FF1493;
            font-weight: bold;
            position: relative;
            z-index: 1;
        }

        .lover-era {
            font-size: 1.2rem;
            color: #FF69B4;
            margin: 0.5rem 0;
            position: relative;
            z-index: 1;
        }
        
        .love-story {
            background: linear-gradient(45deg, #FFF0F5, #F0F8FF);
            padding: 1.5rem;
            border-radius: 15px;
            margin: 1rem 0;
            text-align: left;
            border: 1px solid rgba(255,182,193,0.3);
        }

        .love-story h3 {
            color: #FF1493;
            text-align: center;
            margin-bottom: 1rem;
        }
        
        .compatibility-section {
            background: linear-gradient(45deg, #E1F5FE, #FCE4EC);
            padding: 1.5rem;
            border-radius: 15px;
            margin: 1rem 0;
        }
        
        .compatibility-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
        }
        
        .compatibility-item {
            background: white;
            padding: 1rem;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
            border: 1px solid rgba(255,182,193,0.2);
        }

        .compatibility-item:hover {
            transform: translateY(-5px);
        }
        
        .compatibility-emoji {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }
        
        .compatibility-title {
            font-weight: bold;
            color: #FF1493;
            margin-bottom: 0.5rem;
        }

        .compatibility-text {
            font-size: 0.9rem;
            color: #666;
        }

        .connection-score {
            background: linear-gradient(45deg, #FF69B4, #FFB6C1);
            color: white;
            padding: 1rem;
            border-radius: 15px;
            margin: 1rem 0;
            font-size: 1.5rem;
            font-weight: bold;
        }
        
        .share-buttons {
            margin-top: 1.5rem;
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            flex-wrap: wrap;
        }
        
        .share-button {
            color: white;
            padding: 0.7rem 1.2rem;
            border-radius: 25px;
            text-decoration: none;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
            font-weight: bold;
        }
        
        .share-button:hover {
            transform: translateY(-2px);
            color: white;
        }

        .share-button.kakao {
            background: linear-gradient(45deg, #FEE500, #FFEB3B);
            color: #3A1D1D;
        }

        .share-button.kakao:hover {
            color: #3A1D1D;
        }

        .share-button.instagram {
            background: linear-gradient(45deg, #E4405F, #9B59B6);
        }

        .share-button.facebook {
            background: linear-gradient(45deg, #1877F2, #42A5F5);
        }

        .share-button.twitter {
            background: linear-gradient(45deg, #1DA1F2, #0D8BD9);
        }

        .share-button.general {
            background: linear-gradient(45deg, #FF69B4, #FFB6C1);
        }

        #shareCanvas {
            display: none;
        }
        
        .related-tests {
            background: rgba(255,255,255,0.95);
            padding: 1.5rem;
            border-radius: 20px;
            margin: 1rem 0;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
        }
        
        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .test-card {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 1.5rem;
            border-radius: 15px;
            text-decoration: none;
            transition: transform 0.3s ease;
        }
        
        .test-card:hover {
            transform: translateY(-5px);
            color: white;
        }
        
        .floating-cta {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: linear-gradient(45deg, #FF69B4, #FFB6C1);
            color: white;
            padding: 1rem;
            border-radius: 50px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.2);
            cursor: pointer;
            z-index: 1000;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .footer {
            background: rgba(255,255,255,0.95);
            padding: 2rem 1rem;
            border-radius: 20px;
            margin-top: 2rem;
            text-align: center;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
        }

        .footer a {
            color: #FF69B4;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .footer a:hover {
            color: #FF1493;
        }
        
        @media (max-width: 768px) {
            .container { padding: 5px; }
            .compatibility-grid { grid-template-columns: repeat(2, 1fr); }
            .birthdate-input { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- 헤더 -->
        <div class="header">
            <h1>🔮 전생 연인 찾기</h1>
            <p>사진과 생년월일로 AI가 당신의 전생 연인을 찾아드립니다!</p>
            <div class="stats">
                <span class="stat-item">💕 누적 분석 234,567명</span>
                <span class="stat-item">🎯 정확도 94.2%</span>
                <span class="stat-item">⭐ 만족도 97.8%</span>
            </div>
        </div>
        
        <!-- 업로드 섹션 -->
        <div class="upload-section" id="uploadSection">
            <h2>📸 얼굴 사진을 업로드하세요</h2>
            <p>정면을 바라보는 선명한 셀카로 더 정확한 분석이 가능해요!</p>
            <p style="font-size: 0.9rem; color: #666; margin-top: 0.5rem;">
                💖 클릭하거나 이미지를 드래그해서 업로드하세요
            </p>
            
            <div class="file-input-wrapper">
                <input type="file" id="imageUpload" class="file-input" accept="image/*,image/jpeg,image/jpg,image/png,image/gif,image/webp">
                <label for="imageUpload" class="file-input-button">
                    💕 사진 선택하기
                </label>
            </div>
            
            <div class="preview-container" id="previewContainer" style="display: none;">
                <img id="previewImage" class="preview-image" alt="미리보기">
            </div>
        </div>

        <!-- 생년월일 입력 섹션 -->
        <div class="input-section">
            <h2>📅 생년월일을 입력하세요</h2>
            <p>태어난 날짜가 전생의 인연을 찾는 중요한 단서가 됩니다</p>
            
            <div class="birthdate-input">
                <select id="yearSelect" class="date-select">
                    <option value="">년도 선택</option>
                </select>
                <select id="monthSelect" class="date-select">
                    <option value="">월 선택</option>
                </select>
                <select id="daySelect" class="date-select">
                    <option value="">일 선택</option>
                </select>
            </div>

            <button onclick="analyzeImage()" class="analyze-button" id="analyzeBtn" disabled>
                🔮 전생 연인 찾기
            </button>
        </div>
        
        <!-- 로딩 -->
        <div class="loading" id="loading">
            <div class="spinner"></div>
            <h3>💕 AI가 당신의 전생 연인을 찾는 중...</h3>
            <p>과거 생의 기억을 추적하고, 영혼의 인연을 분석하고 있습니다</p>
        </div>
        
        <!-- 결과 섹션 -->
        <div class="result-section" id="resultSection">
            <h2>✨ 당신의 전생 연인 분석 결과</h2>
            
            <div class="lover-result">
                <div class="lover-emoji" id="loverEmoji">👑</div>
                <div class="lover-name" id="loverName">레오나르도 다 빈치</div>
                <div class="lover-era" id="loverEra">르네상스 시대 (1452-1519)</div>
                <p id="loverDescription">천재 예술가이자 발명가였던 레오나르도와 깊은 영혼의 인연이 있었습니다.</p>
            </div>

            <div class="connection-score" id="connectionScore">
                💕 영혼 연결도: 97%
            </div>
            
            <div class="love-story">
                <h3>💖 당신들의 전생 사랑 이야기</h3>
                <p id="loveStoryText">15세기 피렌체에서 당신은 레오나르도의 뮤즈였습니다. 그의 작업실에서 만난 첫 순간부터 서로에게 운명적으로 끌렸고, 그의 많은 작품에 당신의 모습이 숨겨져 있습니다. 비밀스럽지만 순수했던 당신들의 사랑은 예술을 통해 영원히 남겨졌습니다.</p>
            </div>
            
            <div class="compatibility-section">
                <h3>🌟 전생 인연 특징</h3>
                <div class="compatibility-grid" id="compatibilityGrid">
                    <!-- JavaScript로 동적 생성 -->
                </div>
            </div>
            
            <div class="share-buttons">
                <button class="share-button kakao" onclick="shareToKakao()">💛 카카오톡</button>
                <button class="share-button instagram" onclick="shareToInstagram()">📷 인스타그램</button>
                <button class="share-button facebook" onclick="shareToFacebook()">📘 페이스북</button>
                <button class="share-button twitter" onclick="shareToTwitter()">🐦 트위터</button>
                <button class="share-button general" onclick="shareGeneral()">🔗 링크복사</button>
            </div>

            <div style="margin-top: 1rem;">
                <button class="share-button general" onclick="retakeTest()">🔄 다시 분석</button>
                <button class="share-button general" onclick="saveResult()">💾 결과 저장</button>
            </div>
        </div>
        
        <!-- 연관 테스트 -->
        <div class="related-tests">
            <h2>🌟 다른 신비한 AI 테스트</h2>
            <div class="test-grid">
                <a href="https:/www.futurespouse.site" class="test-card" target="_blank">
                    <h3>💒 미래 결혼상대 예측</h3>
                    <p>당신의 미래 배우자는 어떤 모습일까요?</p>
                </a>
                <a href="https://www.mylovefortune.site" class="test-card" target="_blank">
                    <h3>💕 연애 운세 분석</h3>
                    <p>올해 당신의 연애운을 확인해보세요</p>
                </a>
                <a href="https://www.myauracolorcheck.site" class="test-card" target="_blank">
                    <h3>🔮 오라 색상 테스트</h3>
                    <p>당신만의 오라 색상을 발견해보세요</p>
                </a>
            </div>
        </div>

        <!-- 푸터 -->
        <div class="footer">
            <h3>🔮 전생 연인 찾기 테스트</h3>
            <p>모든 인연은 소중해요! 💕</p>
            <div style="margin-top: 1rem; color: #666; font-size: 0.9rem;">
                <a href="contact.html">문의하기</a> | 
                <a href="privacy.html">개인정보처리방침</a> | 
                <a href="terms.html">이용약관</a>
            </div>
            <p style="margin-top: 1rem; color: #999; font-size: 0.8rem;">
                © 2025 전생 연인 찾기 테스트. All rights reserved.
            </p>
        </div>
    </div>
    
    <!-- 플로팅 CTA -->
    <div class="floating-cta" onclick="scrollToUpload()">
        💕 분석하기
    </div>

    <!-- 숨겨진 캔버스 (공유 이미지 생성용) -->
    <canvas id="shareCanvas" width="600" height="800"></canvas>

    <script>
        // 카카오 SDK 초기화 (실제 앱 키로 교체 필요)
        if (typeof Kakao !== 'undefined') {
            Kakao.init('280f75c15c2b9af2a9836abb0c42e8f5'); // 실제 카카오 앱 키로 교체해야 합니다
        }

        // 전생 연인 데이터 (37개로 확장)
        const pastLifeLoverData = [
            // 기존 데이터 (13개)
            {
                emoji: "👑",
                name: "레오나르도 다 빈치",
                era: "르네상스 시대 (1452-1519)",
                desc: "천재 예술가이자 발명가였던 레오나르도와 깊은 영혼의 인연이 있었습니다.",
                story: "15세기 피렌체에서 당신은 레오나르도의 뮤즈였습니다. 그의 작업실에서 만난 첫 순간부터 서로에게 운명적으로 끌렸고, 그의 많은 작품에 당신의 모습이 숨겨져 있습니다. 비밀스럽지만 순수했던 당신들의 사랑은 예술을 통해 영원히 남겨졌습니다.",
                compatibility: [
                    {emoji: "🎨", title: "예술적 영감", text: "창조적 에너지 공유"},
                    {emoji: "🧠", title: "지적 교감", text: "깊은 철학적 대화"},
                    {emoji: "🌟", title: "영혼의 공명", text: "완벽한 정신적 일치"},
                    {emoji: "💎", title: "영원한 사랑", text: "시대를 초월한 인연"}
                ],
                connection: 97
            },
            {
                emoji: "⚔️",
                name: "아서 왕",
                era: "중세 아서왕 전설 (5-6세기)",
                desc: "전설의 원탁 기사단을 이끈 아서 왕과 숭고한 사랑을 나누었습니다.",
                story: "캐멀롯 성에서 당신은 아서 왕의 가장 신뢰받는 조언자이자 비밀스러운 연인이었습니다. 왕국의 평화를 위해 숨겨야 했던 사랑이지만, 서로를 향한 마음은 그 어떤 시련보다 강했습니다. 당신의 지혜는 왕국을 번영으로 이끌었고, 두 사람의 사랑은 전설이 되었습니다.",
                compatibility: [
                    {emoji: "👑", title: "고귀한 품격", text: "왕족다운 기품과 위엄"},
                    {emoji: "⚔️", title: "용기와 의리", text: "정의를 위한 강인함"},
                    {emoji: "🛡️", title: "보호본능", text: "사랑하는 이를 지키는 마음"},
                    {emoji: "🌟", title: "숭고한 사랑", text: "이상적이고 순수한 연애"}
                ],
                connection: 95
            },
            {
                emoji: "🌸",
                name: "무라사키 시키부",
                era: "헤이안 시대 일본 (973-1014)",
                desc: "일본 최고의 여류 작가 무라사키 시키부와 문학적 영혼을 나누었습니다.",
                story: "헤이안 시대 교토에서 당신은 무라사키 시키부의 문학적 동반자였습니다. 달빛 아래 정원에서 시를 읽으며 마음을 나누었고, 그녀의 대작 '겐지 이야기'에는 당신과의 추억이 많이 담겨있습니다. 우아하고 섬세한 사랑이었지만, 당시 사회의 제약으로 인해 은밀할 수밖에 없었던 아름다운 인연이었습니다.",
                compatibility: [
                    {emoji: "📚", title: "문학적 교감", text: "시와 소설을 통한 소통"},
                    {emoji: "🌙", title: "섬세한 감성", text: "달빛 같은 우아한 정서"},
                    {emoji: "🌸", title: "일본적 미학", text: "와비사비의 아름다움"},
                    {emoji: "💌", title: "편지 사랑", text: "글로 전하는 깊은 마음"}
                ],
                connection: 94
            },
            {
                emoji: "🏺",
                name: "클레오파트라 7세",
                era: "고대 이집트 (69-30 BC)",
                desc: "이집트 최후의 여왕 클레오파트라와 열정적인 사랑을 나누었습니다.",
                story: "나일강이 흐르는 알렉산드리아에서 당신은 클레오파트라의 가장 가까운 심복이자 연인이었습니다. 그녀의 지혜와 아름다움에 매료되었고, 함께 이집트의 황금기를 만들어갔습니다. 로마의 침입에 맞서 싸우며 서로를 의지했던 그 시절, 두 사람의 사랑은 역사를 움직일 만큼 강렬했습니다.",
                compatibility: [
                    {emoji: "👑", title: "권력과 카리스마", text: "강인한 리더십과 매력"},
                    {emoji: "🌟", title: "지적 매력", text: "7개 언어를 구사하는 지성"},
                    {emoji: "💎", title: "럭셔리 취향", text: "화려하고 세련된 미학"},
                    {emoji: "🔥", title: "열정적 사랑", text: "불타는 듯한 로맨스"}
                ],
                connection: 96
            },
            // 추가된 남성 연인들 (12개)
            {
                emoji: "🤴",
                name: "이집트 파라오 아멘호테프",
                era: "고왕국 시대 이집트 (2589-2566 BC)",
                desc: "위대한 피라미드를 건설한 파라오와 신성한 사랑을 나누었습니다.",
                story: "기자의 피라미드가 건설되던 그 시대, 당신은 파라오의 가장 소중한 왕비였습니다. 사막의 별빛 아래서 영원한 사랑을 맹세했고, 함께 이집트의 황금기를 만들어갔습니다. 당신을 위해 지어진 작은 피라미드는 지금도 그 사랑의 증거로 남아있습니다.",
                compatibility: [
                    {emoji: "🏺", title: "신성한 권위", text: "파라오의 위엄과 품격"},
                    {emoji: "⭐", title: "영원한 사랑", text: "미라가 되어서도 함께하는 마음"},
                    {emoji: "🔸", title: "황금의 삶", text: "풍요롭고 화려한 궁정 생활"},
                    {emoji: "🌅", title: "나일강의 축복", text: "이집트 대지의 풍요로움"}
                ],
                connection: 95
            },
            {
                emoji: "🧙‍♂️",
                name: "켈트족 드루이드 아서",
                era: "켈트 문명 (기원전 5세기)",
                desc: "신비한 마법과 자연의 힘을 다루는 드루이드와 영적인 인연이 있었습니다.",
                story: "스코틀랜드의 고대 숲에서 당신은 드루이드의 신성한 동반자였습니다. 달빛 아래 스톤헨지에서 의식을 함께 치르며, 자연의 비밀을 나누었습니다. 그의 마법적 능력과 당신의 순수한 영혼이 만나 강력한 에너지를 만들어냈고, 두 사람의 사랑은 켈트 신화 속에 영원히 남았습니다.",
                compatibility: [
                    {emoji: "🌲", title: "자연과의 조화", text: "숲과 바다를 사랑하는 마음"},
                    {emoji: "🔮", title: "신비로운 직감", text: "미래를 보는 예지력"},
                    {emoji: "🌙", title: "달의 마법", text: "달빛 아래서 더욱 빛나는 사랑"},
                    {emoji: "⚡", title: "영적 연결", text: "말하지 않아도 통하는 텔레파시"}
                ],
                connection: 93
            },
            {
                emoji: "⚔️",
                name: "일본 사무라이 타케시",
                era: "가마쿠라 시대 (1185-1333)",
                desc: "명예로운 사무라이와 충성과 사랑이 함께하는 관계를 맺었습니다.",
                story: "벚꽃이 흩날리는 교토에서 당신은 사무라이의 마음을 사로잡은 유일한 여인이었습니다. 그의 칼솜씨만큼이나 깊었던 당신을 향한 사랑은 무사도 정신과 완벽하게 조화를 이뤘습니다. 전쟁터에서도 당신을 지키겠다는 맹세를 잊지 않았고, 두 사람의 사랑은 일본 역사상 가장 아름다운 로맨스로 기록되었습니다.",
                compatibility: [
                    {emoji: "🌸", title: "벚꽃 같은 사랑", text: "아름답지만 덧없는 순간들"},
                    {emoji: "⚔️", title: "명예로운 사랑", text: "목숨을 걸고 지키는 마음"},
                    {emoji: "🎋", title: "일본의 미학", text: "절제되고 깊이 있는 감정"},
                    {emoji: "🛡️", title: "보호 본능", text: "사랑하는 이를 지키는 강인함"}
                ],
                connection: 92
            },
            {
                emoji: "🏛️",
                name: "그리스 철학자 알렉산드로스",
                era: "고대 그리스 (기원전 4세기)",
                desc: "지혜로운 철학자와 진리를 탐구하며 나눈 플라토닉한 사랑이 있었습니다.",
                story: "아테네의 아고라에서 당신은 철학자의 가장 뛰어난 제자이자 영혼의 동반자였습니다. 올리브 나무 아래서 진리와 미덕에 대해 토론하며 서로에게 깊이 끌렸습니다. 육체적 사랑을 넘어선 순수한 정신적 교합은 플라톤이 말한 이데아적 사랑의 완벽한 예시였습니다.",
                compatibility: [
                    {emoji: "🧠", title: "철학적 사고", text: "깊이 있는 지적 대화"},
                    {emoji: "⚖️", title: "정의로운 마음", text: "옳고 그름을 구분하는 도덕성"},
                    {emoji: "🌟", title: "이데아적 사랑", text: "완벽한 정신적 결합"},
                    {emoji: "🏛️", title: "고전적 미학", text: "조화롭고 균형잡힌 아름다움"}
                ],
                connection: 90
            },
            {
                emoji: "🦅",
                name: "아즈텍 전사 이츨코아틀",
                era: "아즈텍 제국 (1345-1521)",
                desc: "용맹한 독수리 전사와 열대의 정열적인 사랑을 나누었습니다.",
                story: "테노치티틀란의 피라미드 신전에서 당신은 독수리 전사의 마음을 사로잡았습니다. 깃털로 장식된 화려한 의상을 입고 태양신에게 바치는 의식에서 만난 첫날부터 운명적이었습니다. 정글의 신비로운 분위기 속에서 피어난 사랑은 아즈텍 신화만큼이나 장엄했습니다.",
                compatibility: [
                    {emoji: "🌺", title: "열대의 열정", text: "뜨거운 태양처럼 타오르는 사랑"},
                    {emoji: "🦅", title: "자유로운 영혼", text: "하늘을 나는 독수리 같은 기상"},
                    {emoji: "🏺", title: "고대 문명", text: "신비롭고 웅장한 문화"},
                    {emoji: "☀️", title: "태양신의 축복", text: "밝고 에너지 넘치는 관계"}
                ],
                connection: 89
            },
            {
                emoji: "🧙‍♂️",
                name: "중세 연금술사 니콜라스",
                era: "중세 유럽 (12-13세기)",
                desc: "비밀스러운 연금술사와 마법 같은 사랑의 실험을 함께했습니다.",
                story: "어둠에 싸인 중세 유럽의 비밀 실험실에서 당신은 연금술사의 유일한 조력자였습니다. 황금을 만드는 실험보다 더 귀중했던 것은 두 사람 사이의 사랑이었습니다. 신비로운 마법진과 고대 서적들 사이에서 피어난 사랑은 그 어떤 연금술보다 기적적이었습니다.",
                compatibility: [
                    {emoji: "🔮", title: "신비로운 매력", text: "마법 같은 로맨틱한 분위기"},
                    {emoji: "📚", title: "지식에 대한 갈망", text: "끊임없이 탐구하는 정신"},
                    {emoji: "⚗️", title: "창조적 실험", text: "새로운 것을 만들어내는 즐거움"},
                    {emoji: "🌟", title: "비밀스러운 사랑", text: "세상이 모르는 특별한 관계"}
                ],
                connection: 88
            },
            {
                emoji: "🏴‍☠️",
                name: "바이킹 족장 에이나르",
                era: "바이킹 시대 (8-11세기)",
                desc: "용감한 바이킹 족장과 폭풍우 같은 격렬한 사랑을 경험했습니다.",
                story: "북해의 거친 파도와 함께 당신은 바이킹 족장의 마음을 정복했습니다. 롱십을 타고 미지의 바다를 탐험하며 함께한 모험들은 평생 잊을 수 없는 추억이 되었습니다. 그의 용맹함과 당신의 지혜가 만나 완벽한 조화를 이뤘고, 스칸디나비아 전설 속에 영원히 남게 되었습니다.",
                compatibility: [
                    {emoji: "⚓", title: "모험 정신", text: "미지의 세계를 탐험하는 용기"},
                    {emoji: "🌊", title: "자유로운 바다", text: "제약 없이 자유롭게 사랑하는 마음"},
                    {emoji: "⚔️", title: "전사의 용맹", text: "사랑을 지키기 위한 강인함"},
                    {emoji: "🏔️", title: "북유럽의 신화", text: "웅장하고 서사적인 로맨스"}
                ],
                connection: 91
            },
            {
                emoji: "📚",
                name: "조선 선비 이도령",
                era: "조선 전기 (15-16세기)",
                desc: "재능 있는 조선 선비와 시와 서예로 마음을 나누었습니다.",
                story: "한옥의 사랑채에서 당신은 선비의 마음을 사로잡은 재원이었습니다. 달빛 아래 연못가에서 시를 읊으며, 서예와 그림으로 마음을 전했습니다. 유교 사회의 엄격한 예법 속에서도 변치 않았던 순수한 사랑은 조선의 로맨스 문학에 길이 남을 아름다운 이야기가 되었습니다.",
                compatibility: [
                    {emoji: "📜", title: "문학적 소양", text: "시와 서예로 나누는 마음"},
                    {emoji: "🌸", title: "한국적 미학", text: "절제되고 우아한 아름다움"},
                    {emoji: "🎋", title: "선비 정신", text: "학문과 도덕을 중시하는 마음"},
                    {emoji: "🌙", title: "달빛 사랑", text: "은은하고 깊이 있는 감정"}
                ],
                connection: 89
            },
            {
                emoji: "🌟",
                name: "아랍 수학자 알-카림",
                era: "이슬람 황금기 (8-13세기)",
                desc: "뛰어난 아랍 학자와 지식과 사랑이 조화된 관계를 맺었습니다.",
                story: "바그다드의 지혜의 집에서 당신은 수학자의 가장 뛰어난 제자이자 사랑하는 사람이었습니다. 별들의 궤도를 계산하고 고대 그리스 문헌을 번역하는 일보다 더 중요했던 것은 서로를 향한 마음이었습니다. 이슬람 문명의 황금기를 함께 만들어간 두 사람의 사랑은 역사 속에 깊이 새겨졌습니다.",
                compatibility: [
                    {emoji: "📐", title: "논리적 사고", text: "체계적이고 합리적인 접근"},
                    {emoji: "⭐", title: "천문학적 로맨스", text: "별들처럼 운명적인 만남"},
                    {emoji: "📚", title: "학문적 열정", text: "지식을 추구하는 공통된 목표"},
                    {emoji: "🕌", title: "이슬람 문화", text: "깊이 있고 신비로운 정신세계"}
                ],
                connection: 87
            },
            {
                emoji: "🎸",
                name: "스페인 음악가 안토니오",
                era: "스페인 황금시대 (16-17세기)",
                desc: "정열적인 플라멘코 기타리스트와 불꽃 같은 사랑을 나누었습니다.",
                story: "세비야의 달빛 아래 광장에서 당신은 기타리스트의 선율에 마음을 빼앗겼습니다. 그의 플라멘코 기타와 당신의 춤이 만나 완벽한 하모니를 이뤘고, 스페인 전역에 두 사람의 사랑 이야기가 전해졌습니다. 정열적이고 격렬했던 사랑은 지금도 플라멘코 음악 속에 살아 숨쉬고 있습니다.",
                compatibility: [
                    {emoji: "🎵", title: "음악적 교감", text: "멜로디로 나누는 깊은 감정"},
                    {emoji: "💃", title: "정열적 표현", text: "몸짓으로 전하는 사랑"},
                    {emoji: "🌹", title: "스페인의 로맨스", text: "열정적이고 드라마틱한 사랑"},
                    {emoji: "🔥", title: "불꽃 같은 사랑", text: "타오르는 듯한 강렬한 감정"}
                ],
                connection: 94
            },
            {
                emoji: "🧜‍♂️",
                name: "바다의 왕자 포세이돈",
                era: "그리스 신화 시대",
                desc: "바다를 다스리는 신화 속 왕자와 전설적인 사랑을 나누었습니다.",
                story: "에게해의 푸른 바다에서 당신은 바다의 왕자와 운명적으로 만났습니다. 돌고래들이 축복해주고 인어들이 노래해주는 가운데 피어난 사랑은 그야말로 신화 그자체였습니다. 바다의 깊은 궁전에서 보낸 시간들과 파도 위에서 나눈 키스는 지금도 바다의 전설로 전해져 내려옵니다.",
                compatibility: [
                    {emoji: "🌊", title: "바다의 자유", text: "광활하고 깊이 있는 마음"},
                    {emoji: "🐚", title: "신비로운 매력", text: "바다 속 보물 같은 사랑"},
                    {emoji: "🧜‍♀️", title: "판타지 로맨스", text: "현실을 초월한 마법적 사랑"},
                    {emoji: "⚡", title: "신의 권능", text: "강력하고 압도적인 매력"}
                ],
                connection: 96
            },
            // 추가된 여성 연인들 (12개)
            {
                emoji: "👸",
                name: "프랑스 공주 마리",
                era: "중세 프랑스 (12세기)",
                desc: "아름다운 프랑스 공주와 궁정의 우아한 로맨스를 경험했습니다.",
                story: "베르사유 궁전의 화려한 무도회에서 당신은 공주의 마음을 사로잡았습니다. 장미 정원을 거닐며 나눈 대화들과 달빛 아래서의 춤은 프랑스 궁정 문화의 절정을 보여주었습니다. 그녀의 우아함과 당신의 진실함이 만나 중세 유럽 최고의 로맨스가 탄생했습니다.",
                compatibility: [
                    {emoji: "🌹", title: "우아한 매력", text: "장미처럼 아름답고 향기로운 사랑"},
                    {emoji: "👑", title: "귀족적 품격", text: "고상하고 세련된 관계"},
                    {emoji: "💎", title: "화려한 궁정", text: "풍요롭고 아름다운 환경"},
                    {emoji: "🎭", title: "로맨틱한 감성", text: "시와 음악이 있는 사랑"}
                ],
                connection: 93
            },
            {
                emoji: "👩‍🎨",
                name: "르네상스 화가 루크레치아",
                era: "이탈리아 르네상스 (15-16세기)",
                desc: "재능 있는 여성 화가와 예술혼으로 연결된 창조적 사랑이 있었습니다.",
                story: "피렌체의 작은 아틀리에에서 당신은 화가의 가장 소중한 모델이자 연인이었습니다. 그녀의 붓질 하나하나에 당신을 향한 사랑이 담겨있었고, 함께 만든 작품들은 르네상스 미술사의 숨겨진 보석이 되었습니다. 예술과 사랑이 완벽하게 조화를 이룬 아름다운 관계였습니다.",
                compatibility: [
                    {emoji: "🎨", title: "예술적 감성", text: "창작을 통한 깊은 교감"},
                    {emoji: "🌟", title: "르네상스 정신", text: "인간의 아름다움을 추구하는 마음"},
                    {emoji: "💝", title: "뮤즈와 화가", text: "영감을 주고받는 특별한 관계"},
                    {emoji: "🖼️", title: "불멸의 작품", text: "사랑을 통해 탄생한 예술"}
                ],
                connection: 92
            },
            {
                emoji: "🧚‍♀️",
                name: "켈트족 요정 아오이페",
                era: "켈트 신화 시대",
                desc: "신비로운 켈트 요정과 마법 같은 환상적 로맨스를 경험했습니다.",
                story: "아일랜드의 고대 숲에서 당신은 요정의 마법에 매혹되었습니다. 네잎클로버 밭에서 춤추고 무지개 다리를 건너며 함께한 시간들은 꿈처럼 아름다웠습니다. 인간과 요정의 사랑은 금기였지만, 두 사람의 마음은 그 어떤 마법보다 강력했습니다.",
                compatibility: [
                    {emoji: "🍀", title: "행운의 상징", text: "네잎클로버 같은 특별한 인연"},
                    {emoji: "✨", title: "마법적 로맨스", text: "현실을 초월한 환상적 사랑"},
                    {emoji: "🌈", title: "자연의 축복", text: "숲과 바람이 증인이 된 사랑"},
                    {emoji: "🧚‍♀️", title: "요정의 마법", text: "신비롭고 몽환적인 매력"}
                ],
                connection: 95
            },
            {
                emoji: "🏹",
                name: "일본 사무라이 유키코",
                era: "에도 시대 (1603-1868)",
                desc: "뛰어난 궁술가이자 여성 사무라이와 무사도 정신이 깃든 사랑을 나누었습니다.",
                story: "후지산 기슭의 도장에서 당신은 여성 사무라이의 마음을 사로잡았습니다. 그녀의 정확한 활솜씨만큼이나 곧은 성품에 감동받았고, 벚꽃이 지는 계절마다 함께 수행하며 사랑을 키워갔습니다. 무사도 정신과 여성의 섬세함이 조화된 독특하고 아름다운 관계였습니다.",
                compatibility: [
                    {emoji: "🎯", title: "정확한 판단력", text: "목표를 향한 집중력과 의지"},
                    {emoji: "🌸", title: "일본적 감성", text: "절제되고 깊이 있는 감정"},
                    {emoji: "⚔️", title: "무사도 정신", text: "명예와 충성을 중시하는 마음"},
                    {emoji: "🏔️", title: "후지산의 축복", text: "장엄하고 고요한 사랑"}
                ],
                connection: 90
            },
            {
                emoji: "🎭",
                name: "그리스 배우 칼리오페",
                era: "고대 그리스 (기원전 5세기)",
                desc: "유명한 그리스 연극 배우와 무대 위의 열정적인 사랑을 경험했습니다.",
                story: "아테네의 원형극장에서 당신은 배우의 가장 열정적인 관객이자 연인이었습니다. 그녀가 연기하는 비극과 희극 속에서 진짜 사랑을 발견했고, 무대 뒤에서 나눈 키스는 그 어떤 연극보다 드라마틱했습니다. 예술과 사랑이 하나가 된 완벽한 그리스 로맨스였습니다.",
                compatibility: [
                    {emoji: "🎭", title: "연극적 표현", text: "풍부한 감정 표현과 소통"},
                    {emoji: "🏛️", title: "고전적 아름다움", text: "그리스 조각상 같은 완벽함"},
                    {emoji: "👏", title: "무대의 열정", text: "관객을 매료시키는 카리스마"},
                    {emoji: "🌟", title: "예술혼", text: "순수한 예술에 대한 사랑"}
                ],
                connection: 91
            },
            {
                emoji: "👸🏾",
                name: "누비아 여왕 칸다케",
                era: "누비아 왕국 (기원전 8세기)",
                desc: "지혜로운 아프리카 여왕과 장엄한 사막의 로맨스를 경험했습니다.",
                story: "나일강 상류의 누비아 왕국에서 당신은 여왕의 가장 신뢰받는 조언자이자 연인이었습니다. 사하라 사막의 별빛 아래서 나눈 맹세와 황금으로 장식된 궁전에서의 추억들은 아프리카 대륙의 위대한 사랑 이야기로 전해졌습니다. 그녀의 지혜와 당신의 충성이 만나 완벽한 조화를 이뤘습니다.",
                compatibility: [
                    {emoji: "👑", title: "여왕의 위엄", text: "강인하고 카리스마 넘치는 리더십"},
                    {emoji: "🌅", title: "사막의 신비", text: "광활하고 깊이 있는 마음"},
                    {emoji: "💎", title: "누비아의 부", text: "황금처럼 귀중한 사랑"},
                    {emoji: "🦁", title: "아프리카의 힘", text: "사자 같은 강인함과 용기"}
                ],
                connection: 88
            },
            {
                emoji: "🧙‍♀️",
                name: "중세 연금술사 엘리노어",
                era: "중세 유럽 (13-14세기)",
                desc: "비밀스러운 여성 연금술사와 신비로운 마법의 사랑을 나누었습니다.",
                story: "어둠에 쌓인 중세 유럽의 비밀 탑에서 당신은 연금술사의 유일한 제자이자 사랑하는 사람이었습니다. 달빛 아래 마법진을 그리고 고대의 비밀을 탐구하며 피어난 사랑은 그 어떤 마법보다 강력했습니다. 세상이 마녀사냥에 열광하던 시대에도 변치 않았던 진실한 사랑이었습니다.",
                compatibility: [
                    {emoji: "🔮", title: "신비로운 지식", text: "비밀스럽고 깊이 있는 지혜"},
                    {emoji: "⚗️", title: "연금술의 마법", text: "불가능을 가능하게 만드는 힘"},
                    {emoji: "🌙", title: "달의 여신", text: "밤에 더욱 빛나는 신비로움"},
                    {emoji: "📚", title: "금단의 지식", text: "위험하지만 매혹적인 매력"}
                ],
                connection: 87
            },
            {
                emoji: "🌺",
                name: "하와이 족장 딸 레일라니",
                era: "고대 폴리네시아 (10-12세기)",
                desc: "아름다운 하와이 족장의 딸과 태평양의 낙원에서 사랑을 나누었습니다.",
                story: "하와이의 푸른 바다와 야자수 그늘에서 당신은 족장 딸의 마음을 사로잡았습니다. 화산의 여신 펠레가 축복해준 사랑은 열대 낙원만큼이나 아름다웠고, 훌라 춤과 우쿨렐레 선율이 함께한 로맨스는 폴리네시아 전설 속에 영원히 남았습니다.",
                compatibility: [
                    {emoji: "🌺", title: "하와이의 아름다움", text: "하이비스커스처럼 화려한 사랑"},
                    {emoji: "🏝️", title: "낙원의 평화", text: "걱정 없는 자유로운 관계"},
                    {emoji: "🌊", title: "태평양의 축복", text: "광활한 바다처럼 깊은 사랑"},
                    {emoji: "🔥", title: "화산의 열정", text: "펠레 여신이 축복한 뜨거운 사랑"}
                ],
                connection: 94
            },
            {
                emoji: "👑",
                name: "바이킹 여전사 브린힐드",
                era: "바이킹 시대 (9-11세기)",
                desc: "용맹한 방패소녀와 북유럽의 거친 바다를 배경으로 한 영웅적 사랑이 있었습니다.",
                story: "북해의 거친 파도를 헤치며 당신은 바이킹 여전사와 운명적으로 만났습니다. 그녀의 용맹함과 아름다움에 매료되어 함께 바다를 누비며 모험을 떠났습니다. 발할라로 가는 길에서도 함께하자는 맹세를 나누었고, 두 사람의 사랑은 북유럽 사가에 영원히 기록되었습니다.",
                compatibility: [
                    {emoji: "⚔️", title: "전사의 용맹", text: "사랑을 지키기 위한 강인함"},
                    {emoji: "🛡️", title: "방패소녀", text: "서로를 지키는 든든한 동반자"},
                    {emoji: "🌊", title: "바다의 자유", text: "제약 없는 자유로운 사랑"},
                    {emoji: "🏔️", title: "바이킹의 전설", text: "영웅 서사시 같은 장대한 로맨스"}
                ],
                connection: 89
            },
            {
                emoji: "🌸",
                name: "일본 게이샤 하나코",
                era: "에도 시대 (17-19세기)",
                desc: "교양 높은 게이샤와 일본 전통문화 속에서 피어난 우아한 사랑이 있었습니다.",
                story: "교토의 기온 거리에서 당신은 게이샤의 마음을 사로잡은 특별한 손님이었습니다. 차 한잔을 나누며 나눈 대화와 샤미센 선율에 맞춘 춤은 일본 전통 문화의 정수였습니다. 사회적 제약이 많았던 시대였지만, 두 사람의 마음만큼은 어느 누구도 막을 수 없었습니다.",
                compatibility: [
                    {emoji: "🎋", title: "일본의 미학", text: "절제되고 우아한 아름다움"},
                    {emoji: "🌸", title: "벚꽃 같은 사랑", text: "덧없지만 아름다운 순간들"},
                    {emoji: "🎭", title: "전통 예술", text: "춤과 음악으로 나누는 감정"},
                    {emoji: "🍵", title: "다도의 정신", text: "고요하고 깊이 있는 교감"}
                ],
                connection: 92
            },
            {
                emoji: "🌙",
                name: "아랍 천문학자 라일라",
                era: "이슬람 황금기 (9-12세기)",
                desc: "뛰어난 여성 천문학자와 별빛 아래서 나눈 지적이고 로맨틱한 사랑이 있었습니다.",
                story: "바그다드의 천문대에서 당신은 천문학자의 가장 뛰어난 제자이자 연인이었습니다. 망원경으로 별들을 관측하며 우주의 신비를 탐구하는 동안 서로에게 깊이 빠져들었습니다. 밤하늘의 별들이 증인이 된 사랑은 이슬람 문명의 황금기를 대표하는 아름다운 로맨스였습니다.",
                compatibility: [
                    {emoji: "⭐", title: "별들의 축복", text: "우주만큼 광활한 사랑"},
                    {emoji: "🌙", title: "달의 여신", text: "신비롭고 지적인 매력"},
                    {emoji: "🔭", title: "천문학적 로맨스", text: "별자리처럼 운명적인 만남"},
                    {emoji: "📚", title: "이슬람 문화", text: "깊이 있고 학문적인 교감"}
                ],
                connection: 86
            },
            {
                emoji: "🧜‍♀️",
                name: "인어공주 메리나",
                era: "고대 그리스 신화 시대",
                desc: "아름다운 인어공주와 바다 속 궁전에서의 환상적인 사랑을 경험했습니다.",
                story: "에게해의 깊은 바다에서 당신은 인어공주와 운명적으로 만났습니다. 진주와 산호로 장식된 바다 속 궁전에서 보낸 시간들과 파도 위에서 나눈 달콤한 키스는 그리스 신화보다 더 아름다운 이야기가 되었습니다. 육지와 바다를 넘나드는 불가능한 사랑이었지만, 두 사람의 마음은 진짜였습니다.",
                compatibility: [
                    {emoji: "🌊", title: "바다의 자유", text: "끝없이 넓고 깊은 마음"},
                    {emoji: "🐚", title: "진주 같은 사랑", text: "희귀하고 소중한 관계"},
                    {emoji: "🧜‍♀️", title: "인어의 노래", text: "마법적이고 환상적인 매력"},
                    {emoji: "💎", title: "바다의 보물", text: "세상에서 가장 귀한 사랑"}
                ],
                connection: 98
            }
        ];

        // 생년월일 옵션 생성
        function initDateSelectors() {
            const yearSelect = document.getElementById('yearSelect');
            const monthSelect = document.getElementById('monthSelect');
            const daySelect = document.getElementById('daySelect');
            
            // 년도 옵션 (1920-2010)
            for (let year = 2010; year >= 1920; year--) {
                const option = document.createElement('option');
                option.value = year;
                option.textContent = year + '년';
                yearSelect.appendChild(option);
            }
            
            // 월 옵션
            for (let month = 1; month <= 12; month++) {
                const option = document.createElement('option');
                option.value = month;
                option.textContent = month + '월';
                monthSelect.appendChild(option);
            }
            
            // 일 옵션
            for (let day = 1; day <= 31; day++) {
                const option = document.createElement('option');
                option.value = day;
                option.textContent = day + '일';
                daySelect.appendChild(option);
            }
        }

        // 분석 버튼 활성화 체크
        function checkAnalyzeButton() {
            const hasImage = window.currentImageData;
            const hasYear = document.getElementById('yearSelect').value;
            const hasMonth = document.getElementById('monthSelect').value;
            const hasDay = document.getElementById('daySelect').value;
            
            const analyzeBtn = document.getElementById('analyzeBtn');
            analyzeBtn.disabled = !(hasImage && hasYear && hasMonth && hasDay);
        }

        // 이미지 업로드 처리
        document.getElementById('imageUpload').addEventListener('change', function(e) {
            console.log('파일 선택 이벤트 발생');
            const file = e.target.files[0];
            
            if (file) {
                console.log('선택된 파일:', file.name, file.type, file.size);
                
                // 파일 타입 검증
                if (!file.type.startsWith('image/')) {
                    alert('이미지 파일만 업로드 가능합니다.');
                    return;
                }
                
                // 파일 크기 검증 (10MB 제한)
                if (file.size > 10 * 1024 * 1024) {
                    alert('파일 크기는 10MB 이하여야 합니다.');
                    return;
                }
                
                const reader = new FileReader();
                
                reader.onload = function(e) {
                    console.log('파일 읽기 완료');
                    const previewImage = document.getElementById('previewImage');
                    const previewContainer = document.getElementById('previewContainer');
                    
                    previewImage.src = e.target.result;
                    previewContainer.style.display = 'block';
                    
                    // 이미지를 전역 변수에 저장 (일관된 결과를 위해)
                    window.currentImageData = e.target.result;
                    
                    // 이미지 로드 완료 후 스크롤
                    previewImage.onload = function() {
                        checkAnalyzeButton();
                        previewContainer.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    };
                };
                
                reader.onerror = function() {
                    console.error('파일 읽기 실패');
                    alert('파일을 읽을 수 없습니다. 다른 이미지를 선택해주세요.');
                };
                
                reader.readAsDataURL(file);
            } else {
                console.log('선택된 파일이 없음');
            }
        });

        // 날짜 선택 이벤트
        document.getElementById('yearSelect').addEventListener('change', checkAnalyzeButton);
        document.getElementById('monthSelect').addEventListener('change', checkAnalyzeButton);
        document.getElementById('daySelect').addEventListener('change', checkAnalyzeButton);

        // 사용 제한 관리
        let testCount = 0;
        let lastTestTime = 0;
        const TEST_COOLDOWN = 3000; // 3초 쿨다운
        const DAILY_LIMIT = 10; // 하루 10회 제한

        // 로컬 스토리지에서 오늘의 테스트 횟수 확인
        function getTodayTestCount() {
            const today = new Date().toDateString();
            const stored = localStorage.getItem('pastLoverTestData');
            
            if (stored) {
                const data = JSON.parse(stored);
                if (data.date === today) {
                    return data.count;
                }
            }
            return 0;
        }

        // 오늘의 테스트 횟수 저장
        function saveTodayTestCount(count) {
            const today = new Date().toDateString();
            const data = { date: today, count: count };
            localStorage.setItem('pastLoverTestData', JSON.stringify(data));
        }

        // 테스트 가능 여부 확인
        function canTest() {
            const now = Date.now();
            const todayCount = getTodayTestCount();
            
            // 쿨다운 체크 (연속 클릭 방지)
            if (now - lastTestTime < TEST_COOLDOWN) {
                const remaining = Math.ceil((TEST_COOLDOWN - (now - lastTestTime)) / 1000);
                alert(`⏰ ${remaining}초 후에 다시 시도해주세요!`);
                return false;
            }
            
            // 일일 제한 체크 (부드러운 제한)
            if (todayCount >= DAILY_LIMIT) {
                showLimitMessage(todayCount);
                return false;
            }
            
            return true;
        }

        // 제한 메시지 표시 (강제 차단보다는 안내)
        function showLimitMessage(count) {
            const messages = [
                `🎯 오늘 ${count}번째 분석이네요! 정말 열심이시군요!`,
                `🔥 이미 충분히 즐기셨어요! 친구들과 공유해보는 건 어떨까요?`,
                `⭐ 내일 다시 오시면 새로운 인연이 기다려요!`,
                `💝 결과가 마음에 드셨나요? SNS에 공유해보세요!`
            ];
            
            const randomMessage = messages[Math.floor(Math.random() * messages.length)];
            
            // 부드러운 안내 (강제 차단 X)
            if (confirm(`${randomMessage}\n\n그래도 계속 분석하시겠어요?`)) {
                return true; // 사용자가 원하면 계속 허용
            }
            
            return false;
        }

        // 이미지와 생년월일 기반 전생 연인 결정 함수
        function getPastLoverFromData(imageData, birthYear, birthMonth, birthDay) {
            if (!imageData) {
                // 이미지가 없으면 생년월일만으로
                const dateHash = simpleHash(`${birthYear}-${birthMonth}-${birthDay}`);
                return pastLifeLoverData[dateHash % pastLifeLoverData.length];
            }
            
            // 이미지와 생년월일 조합으로 해시 생성
            const combinedData = imageData + `${birthYear}-${birthMonth}-${birthDay}`;
            const hash = simpleHash(combinedData);
            
            // 해시를 기반으로 전생 연인 결정 (항상 동일한 결과)
            const loverIndex = hash % pastLifeLoverData.length;
            
            console.log('조합 해시:', hash, '전생 연인 인덱스:', loverIndex);
            
            return pastLifeLoverData[loverIndex];
        }

        // 업로드 초기화 함수
        function resetUpload() {
            const fileInput = document.getElementById('imageUpload');
            const previewContainer = document.getElementById('previewContainer');
            
            fileInput.value = '';
            previewContainer.style.display = 'none';
            
            // 저장된 이미지 데이터도 초기화
            window.currentImageData = null;
            
            // 생년월일 초기화
            document.getElementById('yearSelect').value = '';
            document.getElementById('monthSelect').value = '';
            document.getElementById('daySelect').value = '';
            
            checkAnalyzeButton();
            
            console.log('업로드 초기화 완료');
        }

        // 드래그 앤 드롭 기능
        const uploadSection = document.getElementById('uploadSection');
        
        uploadSection.addEventListener('dragover', function(e) {
            e.preventDefault();
            e.stopPropagation();
            uploadSection.classList.add('dragover');
        });
        
        uploadSection.addEventListener('dragleave', function(e) {
            e.preventDefault();
            e.stopPropagation();
            uploadSection.classList.remove('dragover');
        });
        
        uploadSection.addEventListener('drop', function(e) {
            e.preventDefault();
            e.stopPropagation();
            uploadSection.classList.remove('dragover');
            
            const files = e.dataTransfer.files;
            console.log('드롭된 파일 수:', files.length);
            
            if (files.length > 0) {
                const file = files[0];
                
                // 파일 타입 검증
                if (!file.type.startsWith('image/')) {
                    alert('이미지 파일만 업로드 가능합니다.');
                    return;
                }
                
                const fileInput = document.getElementById('imageUpload');
                
                // FileList 객체 생성
                const dt = new DataTransfer();
                dt.items.add(file);
                fileInput.files = dt.files;
                
                // 수동으로 change 이벤트 발생
                const event = new Event('change', { bubbles: true });
                fileInput.dispatchEvent(event);
            }
        });

        // 모바일 터치 이벤트 처리
        uploadSection.addEventListener('touchstart', function(e) {
            const fileInput = document.getElementById('imageUpload');
            fileInput.click();
        });

        // 간단한 해시 함수 (이미지 데이터 기반)
        function simpleHash(str) {
            let hash = 0;
            for (let i = 0; i < str.length; i++) {
                const char = str.charCodeAt(i);
                hash = ((hash << 5) - hash) + char;
                hash = hash & hash; // 32비트 정수로 변환
            }
            return Math.abs(hash);
        }

        // 전생 연인 분석 (제한 체크 포함)
        function analyzeImage() {
            // 테스트 가능 여부 확인
            if (!canTest()) {
                return;
            }
            
            // 필수 정보 확인
            if (!window.currentImageData) {
                alert('사진을 먼저 업로드해주세요!');
                return;
            }
            
            const birthYear = document.getElementById('yearSelect').value;
            const birthMonth = document.getElementById('monthSelect').value;
            const birthDay = document.getElementById('daySelect').value;
            
            if (!birthYear || !birthMonth || !birthDay) {
                alert('생년월일을 모두 입력해주세요!');
                return;
            }
            
            document.getElementById('loading').style.display = 'block';
            document.querySelector('.upload-section').style.display = 'none';
            document.querySelector('.input-section').style.display = 'none';
            
            // 테스트 횟수 및 시간 기록
            const todayCount = getTodayTestCount() + 1;
            saveTodayTestCount(todayCount);
            lastTestTime = Date.now();
            
            setTimeout(() => {
                // 이미지와 생년월일 기반으로 일관된 결과 생성
                const selectedLover = getPastLoverFromData(
                    window.currentImageData, 
                    birthYear, 
                    birthMonth, 
                    birthDay
                );
                
                document.getElementById('loverEmoji').textContent = selectedLover.emoji;
                document.getElementById('loverName').textContent = selectedLover.name;
                document.getElementById('loverEra').textContent = selectedLover.era;
                document.getElementById('loverDescription').textContent = selectedLover.desc;
                document.getElementById('loveStoryText').textContent = selectedLover.story;
                document.getElementById('connectionScore').textContent = `💕 영혼 연결도: ${selectedLover.connection}%`;
                
                // 전생 인연 특징 표시
                const compatibilityGrid = document.getElementById('compatibilityGrid');
                compatibilityGrid.innerHTML = '';
                selectedLover.compatibility.forEach(trait => {
                    const item = document.createElement('div');
                    item.className = 'compatibility-item';
                    item.innerHTML = `
                        <div class="compatibility-emoji">${trait.emoji}</div>
                        <div class="compatibility-title">${trait.title}</div>
                        <div class="compatibility-text">${trait.text}</div>
                    `;
                    compatibilityGrid.appendChild(item);
                });
                
                // 결과를 전역 변수에 저장 (공유 기능을 위해)
                window.currentLoverResult = selectedLover;
                window.currentBirthInfo = { year: birthYear, month: birthMonth, day: birthDay };
                
                document.getElementById('loading').style.display = 'none';
                document.getElementById('resultSection').style.display = 'block';
                
                // 테스트 횟수 표시 (5회 이상부터)
                if (todayCount >= 5) {
                    const countMessage = document.createElement('div');
                    countMessage.style.cssText = `
                        background: linear-gradient(45deg, #FFE0E6, #FFF0F5);
                        padding: 0.5rem 1rem;
                        border-radius: 15px;
                        margin: 1rem 0;
                        font-size: 0.9rem;
                        color: #FF1493;
                        border: 1px solid rgba(255,182,193,0.3);
                    `;
                    countMessage.innerHTML = `💕 오늘 ${todayCount}번째 분석! 정말 열심이네요! ✨`;
                    
                    const resultSection = document.getElementById('resultSection');
                    resultSection.insertBefore(countMessage, resultSection.children[1]);
                }
                
                document.getElementById('resultSection').scrollIntoView({behavior: 'smooth'});
            }, 4000);
        }

        // 공유용 이미지 생성
        function generateShareImage() {
            if (!window.currentLoverResult) {
                alert('먼저 전생 연인 분석을 완료해주세요!');
                return null;
            }

            const canvas = document.getElementById('shareCanvas');
            const ctx = canvas.getContext('2d');
            
            // 배경 그라디언트
            const gradient = ctx.createLinearGradient(0, 0, 0, 800);
            gradient.addColorStop(0, '#FF69B4');
            gradient.addColorStop(0.5, '#FFB6C1');
            gradient.addColorStop(1, '#FFC0CB');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, 600, 800);
            
            // 반투명 흰색 배경
            ctx.fillStyle = 'rgba(255, 255, 255, 0.95)';
            roundRect(ctx, 50, 100, 500, 600, 20);
            ctx.fill();
            
            // 제목
            ctx.fillStyle = '#333';
            ctx.font = 'bold 32px Arial, sans-serif';
            ctx.textAlign = 'center';
            ctx.fillText('🔮 전생 연인 찾기', 300, 160);
            
            // 전생 연인 이모지
            ctx.font = '120px Arial, sans-serif';
            ctx.fillText(window.currentLoverResult.emoji, 300, 280);
            
            // 전생 연인 이름
            ctx.fillStyle = '#FF1493';
            ctx.font = 'bold 36px Arial, sans-serif';
            ctx.fillText(window.currentLoverResult.name, 300, 350);
            
            // 시대
            ctx.fillStyle = '#FF69B4';
            ctx.font = '24px Arial, sans-serif';
            ctx.fillText(window.currentLoverResult.era, 300, 390);
            
            // 설명
            ctx.fillStyle = '#555';
            ctx.font = '18px Arial, sans-serif';
            ctx.textAlign = 'center';
            const lines = wrapText(ctx, window.currentLoverResult.desc, 300, 430, 400, 25);
            
            // 영혼 연결도
            if (window.currentLoverResult.connection) {
                ctx.fillStyle = '#FF1493';
                ctx.font = 'bold 28px Arial, sans-serif';
                ctx.fillText(`💕 영혼 연결도: ${window.currentLoverResult.connection}%`, 300, 520);
            }
            
            // 하단 URL
            ctx.fillStyle = '#999';
            ctx.font = '18px Arial, sans-serif';
            ctx.fillText('🌟 전생 연인 찾기에서 더 많은 분석을!', 300, 650);
            
            return canvas.toDataURL('image/png');
        }

        // 텍스트 줄바꿈 함수
        function wrapText(context, text, x, y, maxWidth, lineHeight) {
            const words = text.split(' ');
            let line = '';
            let lines = [];
            
            for (let n = 0; n < words.length; n++) {
                const testLine = line + words[n] + ' ';
                const metrics = context.measureText(testLine);
                const testWidth = metrics.width;
                
                if (testWidth > maxWidth && n > 0) {
                    lines.push(line);
                    line = words[n] + ' ';
                } else {
                    line = testLine;
                }
            }
            lines.push(line);
            
            // 실제 텍스트 그리기
            for (let i = 0; i < lines.length; i++) {
                context.fillText(lines[i], x, y + (i * lineHeight));
            }
            
            return lines;
        }

        // Canvas RoundRect Polyfill
        function roundRect(ctx, x, y, w, h, r) {
            if (w < 2 * r) r = w / 2;
            if (h < 2 * r) r = h / 2;
            ctx.beginPath();
            ctx.moveTo(x + r, y);
            ctx.arcTo(x + w, y, x + w, y + h, r);
            ctx.arcTo(x + w, y + h, x, y + h, r);
            ctx.arcTo(x, y + h, x, y, r);
            ctx.arcTo(x, y, x + w, y, r);
            ctx.closePath();
            return ctx;
        }

        // 공유 버튼에 추적 추가
        function shareToKakao() {
            gtag('event', 'share_attempt', {
                event_category: 'social',
                event_label: 'kakao_share',
                method: 'kakao'
            });
            
        // 카카오톡 공유
        function shareToKakao() {
            console.log('카카오톡 공유 시작');
            
            if (!window.currentLoverResult) {
                alert('먼저 전생 연인 분석을 완료해주세요!');
                return;
            }

            const shareText = `🔮 전생 연인 찾기 결과!\n\n${window.currentLoverResult.emoji} ${window.currentLoverResult.name}\n${window.currentLoverResult.era}\n\n💕 영혼 연결도: ${window.currentLoverResult.connection}%\n\n나도 분석해보기: ${window.location.href}`;
            
            // 카카오 SDK 확인
            if (typeof Kakao !== 'undefined' && Kakao.isInitialized && Kakao.isInitialized()) {
                try {
                    Kakao.Share.sendDefault({
                        objectType: 'feed',
                        content: {
                            title: '🔮 전생 연인 찾기 결과!',
                            description: `${window.currentLoverResult.emoji} ${window.currentLoverResult.name} (${window.currentLoverResult.era})\n💕 영혼 연결도: ${window.currentLoverResult.connection}%`,
                            imageUrl: 'https://your-domain.com/pastlover-og.jpg',
                            link: {
                                mobileWebUrl: window.location.href,
                                webUrl: window.location.href,
                            },
                        },
                        buttons: [
                            {
                                title: '나도 분석하기',
                                link: {
                                    mobileWebUrl: window.location.href,
                                    webUrl: window.location.href,
                                },
                            },
                        ],
                    });
                } catch (error) {
                    console.error('카카오 SDK 에러:', error);
                    fallbackKakaoShare(shareText);
                }
            } else {
                fallbackKakaoShare(shareText);
            }
        }

        // 카카오톡 폴백 공유
        function fallbackKakaoShare(shareText) {
            // 모바일에서 카카오톡 앱으로 직접 공유 시도
            if (/Mobi|Android/i.test(navigator.userAgent)) {
                try {
                    const kakaoUrl = `kakaotalk://share/text?text=${encodeURIComponent(shareText)}`;
                    window.location.href = kakaoUrl;
                    
                    setTimeout(() => {
                        if (navigator.share) {
                            navigator.share({
                                title: '🔮 전생 연인 찾기',
                                text: shareText,
                                url: window.location.href
                            }).catch(error => {
                                copyToClipboard(shareText);
                            });
                        } else {
                            copyToClipboard(shareText);
                        }
                    }, 3000);
                } catch (error) {
                    copyToClipboard(shareText);
                }
            } else {
                copyToClipboard(shareText);
            }
        }

        // 인스타그램 공유
        function shareToInstagram() {
            if (!window.currentLoverResult) {
                alert('먼저 전생 연인 분석을 완료해주세요!');
                return;
            }
            
            const shareImageData = generateShareImage();
            if (!shareImageData) return;
            
            const link = document.createElement('a');
            link.download = `전생연인테스트_${window.currentLoverResult.name.replace(' ', '_')}.png`;
            link.href = shareImageData;
            
            if (/Mobi|Android/i.test(navigator.userAgent)) {
                link.click();
                setTimeout(() => {
                    const instagramUrl = 'instagram://camera';
                    window.location.href = instagramUrl;
                    
                    setTimeout(() => {
                        window.open('https://www.instagram.com/', '_blank');
                    }, 2000);
                }, 3000);
            } else {
                link.click();
                window.open('https://www.instagram.com/', '_blank');
                alert('이미지가 다운로드되었습니다!\n인스타그램에서 업로드해보세요 📷');
            }
        }

        // 페이스북 공유
        function shareToFacebook() {
            if (!window.currentLoverResult) {
                alert('먼저 전생 연인 분석을 완료해주세요!');
                return;
            }

            const shareUrl = encodeURIComponent(window.location.href);
            const shareText = encodeURIComponent(`🔮 전생 연인 찾기에서 ${window.currentLoverResult.emoji} ${window.currentLoverResult.name}이 나왔어요! 영혼 연결도 ${window.currentLoverResult.connection}%`);
            
            const facebookUrl = `https://www.facebook.com/sharer/sharer.php?u=${shareUrl}&quote=${shareText}`;
            window.open(facebookUrl, '_blank', 'width=600,height=400');
        }

        // 트위터 공유
        function shareToTwitter() {
            if (!window.currentLoverResult) {
                alert('먼저 전생 연인 분석을 완료해주세요!');
                return;
            }

            const shareText = encodeURIComponent(`🔮 전생 연인 찾기 결과: ${window.currentLoverResult.emoji} ${window.currentLoverResult.name}! 영혼 연결도 ${window.currentLoverResult.connection}% ✨`);
            const shareUrl = encodeURIComponent(window.location.href);
            const hashtags = encodeURIComponent('전생연인,운명의인연,소울메이트,AI분석');
            
            const twitterUrl = `https://twitter.com/intent/tweet?text=${shareText}&url=${shareUrl}&hashtags=${hashtags}`;
            window.open(twitterUrl, '_blank', 'width=600,height=400');
        }

        // 일반 공유 (링크 복사)
        function shareGeneral() {
            if (!window.currentLoverResult) {
                alert('먼저 전생 연인 분석을 완료해주세요!');
                return;
            }

            const shareText = `🔮 전생 연인 찾기 결과!\n\n${window.currentLoverResult.emoji} ${window.currentLoverResult.name}\n${window.currentLoverResult.era}\n\n${window.currentLoverResult.desc}\n\n💕 영혼 연결도: ${window.currentLoverResult.connection}%\n\n나도 분석해보기: ${window.location.href}`;
            
            if (navigator.share) {
                navigator.share({
                    title: '🔮 전생 연인 찾기',
                    text: shareText,
                    url: window.location.href
                }).catch(error => {
                    copyToClipboard(shareText);
                });
            } else {
                copyToClipboard(shareText);
            }
        }

        // 클립보드에 복사
        function copyToClipboard(text) {
            if (navigator.clipboard && navigator.clipboard.writeText) {
                navigator.clipboard.writeText(text).then(() => {
                    alert('💕 전생 연인 분석 결과가 복사되었습니다!\n\n원하는 곳에 붙여넣기해서 공유해보세요! ✨');
                }).catch(error => {
                    fallbackCopyToClipboard(text);
                });
            } else {
                fallbackCopyToClipboard(text);
            }
        }

        // 클립보드 복사 폴백
        function fallbackCopyToClipboard(text) {
            try {
                const textArea = document.createElement('textarea');
                textArea.value = text;
                textArea.style.position = 'fixed';
                textArea.style.left = '-999999px';
                textArea.style.top = '-999999px';
                document.body.appendChild(textArea);
                textArea.focus();
                textArea.select();
                
                const successful = document.execCommand('copy');
                document.body.removeChild(textArea);
                
                if (successful) {
                    alert('💕 전생 연인 분석 결과가 복사되었습니다!\n\n원하는 곳에 붙여넣기해서 공유해보세요! ✨');
                } else {
                    alert('복사에 실패했습니다. 수동으로 선택해서 복사해주세요.');
                }
            } catch (error) {
                alert('복사에 실패했습니다. 수동으로 선택해서 복사해주세요.');
            }
        }

        function retakeTest() {
            document.getElementById('resultSection').style.display = 'none';
            document.querySelector('.upload-section').style.display = 'block';
            document.querySelector('.input-section').style.display = 'block';
            resetUpload();
            
            // 저장된 데이터 초기화
            window.currentImageData = null;
            window.currentLoverResult = null;
            window.currentBirthInfo = null;
        }

        function saveResult() {
            if (!window.currentLoverResult) {
                alert('저장할 결과가 없습니다!');
                return;
            }
            
            const resultData = {
                lover: window.currentLoverResult,
                birthInfo: window.currentBirthInfo,
                timestamp: new Date().toISOString(),
                url: window.location.href
            };
            
            try {
                localStorage.setItem('pastLoverTestResult', JSON.stringify(resultData));
                alert('결과가 저장되었습니다! 💾\n\n언제든 다시 확인할 수 있어요.');
            } catch (e) {
                alert('결과 저장에 실패했습니다. 스크린샷으로 저장해보세요! 📷');
            }
        }

        function scrollToUpload() {
            document.querySelector('.upload-section').scrollIntoView({behavior: 'smooth'});
        }

        // 페이지 로드 시 초기화
        document.addEventListener('DOMContentLoaded', function() {
            initDateSelectors();
        });
    </script>
</body>
</html>
